<div class="lappiz-chat-widget">
  <!-- BotÃ³n flotante -->
  <chat-bubble *ngIf="!isOpen" (toggleChat)="toggleChat()"> </chat-bubble>

  <!-- Ventana del chat -->
  <div class="chat-window" *ngIf="isOpen">
    <chat-header (closeChat)="toggleChat()"></chat-header>

    <chat-messages [messages]="messages" [isTyping]="isTyping"> </chat-messages>

    <chat-input #chatInput (sendMessage)="handleSendMessage($event)"> </chat-input>

    <!-- Marca de agua -->
    <div class="watermark">
      Powered by <strong>LappizIA</strong>
    </div>
  </div>

  <!-- Estado de error -->
  <div class="error-toast" *ngIf="errorMessage" [@slideIn]>
    <div class="error-content">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <span>{{ errorMessage }}</span>
    </div>
    <button (click)="clearError()" class="error-close">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
</div>